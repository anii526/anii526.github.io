!function(){"use strict";var t={1351:function(t,e,i){i(85827),i(43290);var s=i(19755);!function(){function t(t,i,s){this.parent=s,this.xoffset=i,this.yoffset=t,this.length=10,this.maxAngle=.35*Math.PI,this.minAngle=.35*-Math.PI,this.heading=0,this.vr=0,this.boundTo=[],this.bindTo=function(t){this.boundTo.push(t)},this.rotateTo=function(t){for(index in this.heading=t,this.boundTo)this.boundTo[index].rotateTo(t)},this.increment=function(t){this.rotateTo(t)},this.frontCoord=new e,this.backCoord=new e,this.render=function(t){t.lineWidth=5,t.strokeStyle="#222222",this.alpha=this.heading+this.parent.heading,this.center=this.parent.getPosition(this.xoffset,this.yoffset),xOffset=.5*Math.sin(this.alpha)*this.length,yOffset=.5*Math.cos(this.alpha)*this.length,this.frontCoord.x=xOffset+this.center.x,this.frontCoord.y=yOffset+this.center.y,this.backCoord.x=this.center.x-xOffset,this.backCoord.y=this.center.y-yOffset,t.beginPath(),t.moveTo(this.frontCoord.x,this.frontCoord.y),t.lineTo(this.backCoord.x,this.backCoord.y),t.stroke(),t.lineWidth=2,t.strokeStyle="#000000",t.beginPath(),t.moveTo(this.center.x,this.center.y),t.lineTo(this.backCoord.x,this.backCoord.y),t.stroke();var e=this.parent.getPosition(this.xoffset,0);t.lineWidth=2,t.strokeStyle="#555555",t.beginPath(),t.moveTo(this.center.x,this.center.y),t.lineTo(e.x,e.y),t.stroke()}}function e(t,e){this.x=t,this.y=e}function i(){this.maxPower=1,this.revs=1e3,this.maxPowerInReverse=.2,this.power=0,this.trottle=0,this.setTrottle=function(t){this.trottle=t,this.update()},this.update=function(){this.trottle>=0?this.power=this.maxPower*this.trottle:this.power=this.maxPowerInReverse*this.trottle},this.trottleUp=function(t){this.trottle+t<=1?this.trottle+=t:this.trottle=1,this.update()},this.trottleDown=function(t){(this.trottle-t>=0||this.trottle-t>-1)&&(this.trottle-=t),this.update()},this.trottleDownToZero=function(t){this.trottle-t>=0?this.trottle-=t:this.trottle=0,this.update()},this.getForce=function(){return this.power},this.tick=function(){this.trottle>0?this.trottleDownToZero(.001):this.trottle<0&&this.trottleUp(.001)}}function r(t){this.mindrivingCircle=80,this.frontWheels=[],this.backWheels=[],this.steerDist=0,this.parent=t,this.addFrontWheel=function(t){this.frontWheels.push(t),this.update()},this.addBackWheel=function(t){this.backWheels.push(t),this.update()},this.steerToDist=function(t){for(var e in this.steerDist=t,this.frontWheels){var i=Math.atan((this.centerOfBackWheels-this.frontWheels[e].xoffset)/(this.frontWheels[e].yoffset-t));this.frontWheels[e].rotateTo(i)}},this.increment=function(t){this.steerAngle+t>Math.PI?newSteerAngle=-this.steerAngle+t:newSteerAngle=this.steerAngle+t;var e=100*Math.tan(newSteerAngle);Math.abs(e)>this.mindrivingCircle&&(this.steerAngle=newSteerAngle,this.steerToDist(e))},this.reduce=function(t){t=t||1.05,Math.abs(this.steerDist*t)<=1100&&(this.steerDist*=t,this.steerToDist(this.steerDist))},this.steerAngle=.5*Math.PI,this.incrementDistance=function(t){this.steerDist+=t,this.steerToDist(this.steerDist)},this.update=function(){for(var t in sum=0,totalBackWheels=0,this.backWheels)totalBackWheels+=1,sum+=this.backWheels[t].xoffset;totalBackWheels>0&&(this.centerOfBackWheels=sum/totalBackWheels)},this.render=function(t){var e=this.parent.getPosition(this.centerOfBackWheels,this.steerDist);if(this.getAckermanRadius()>1&&this.getAckermanRadius()<1e3){var i=this.getAckermanpos();for(index in t.beginPath(),t.arc(i.x,i.y,2,0,2*Math.PI,!1),t.stroke(),this.frontWheels)t.lineWidth=.5,t.strokeStyle="rgba(200,200,200,0.9)",t.beginPath(),t.moveTo(this.frontWheels[index].center.x,this.frontWheels[index].center.y),t.lineTo(e.x,e.y),t.stroke();t.beginPath(),t.arc(e.x,e.y,this.getAckermanRadius(),0,2*Math.PI,!1),t.stroke()}},this.getAckermanpos=function(){return this.parent.getPosition(this.centerOfBackWheels,this.steerDist)},this.getRelativeAckermanPos=function(){return new e(this.centerOfBackWheels,this.steerDist)},this.getAckermanRadius=function(){return Math.abs(this.steerDist)}}function h(){this.xpos=100,this.ypos=100,this.friction=.95,this.mass=50,this.blinkers=0,this.blinkerIteration=0,this.vforward=0,this.engine=new i,this.reverse=!1,this.heading=0,this.braking=0,this.imgUrl="./assets/sports_car_grey.png",this.imageObj=new Image,this.imageObj.src=this.imgUrl,this.imageXoffset=2,this.imageYoffset=5,this.imageLoaded=!1;var s=this;this.imageObj.onload=function(){s.imageLoaded=!0,console.log(this.src)},this.height=95,this.length=this.height,this.width=45,this.leftFrontWheel=new t(-this.width/2,this.height/3,this),this.rightFrontWheel=new t(this.width/2,this.height/3,this),this.leftBackWheel=new t(-this.width/2,-this.height/3,this),this.rightBackWheel=new t(this.width/2,-this.height/3,this),this.wheels=[this.leftFrontWheel,this.rightFrontWheel,this.leftBackWheel,this.rightBackWheel],this.steering=new r(this),this.steering.addFrontWheel(this.leftFrontWheel),this.steering.addFrontWheel(this.rightFrontWheel),this.steering.addBackWheel(this.leftBackWheel),this.steering.addBackWheel(this.rightBackWheel),this.steerIncrement=function(t){this.steering.increment(t)},this.blinkersLeft=function(){2!=this.blinkers&&(this.blinkers=-1)},this.blinkersRight=function(){2!=this.blinkers&&(this.blinkers=1)},this.blinkersReset=function(){this.blinkers=0},this.blinkersWarning=function(){this.blinkers=2},this.render=function(t){for(var e in this.wheels)this.wheels[e].render(t);if(t.lineWidth=2,t.strokeStyle="#666",t.beginPath(),t.moveTo(this.frontCoord.x,this.frontCoord.y),t.lineTo(this.backCoord.x,this.backCoord.y),t.stroke(),this.steering.render(t),this.imageLoaded&&function(t,e,i,s,r,h,n){t.translate(i,s),t.rotate(r),t.drawImage(e,-h,-n),t.rotate(-r),t.translate(-i,-s)}(t,this.imageObj,this.xpos,this.ypos,-this.heading,this.width/2+this.imageXoffset,this.height/2+this.imageYoffset),this.braking>0){t.fillStyle=r,t.beginPath();var i=this.getPosition(-.5*this.length,.4*this.width);(r=t.createRadialGradient(i.x,i.y,0,i.x,i.y,5)).addColorStop(0,"rgba(255,0,0,1)"),r.addColorStop(1,"rgba(255,0,0,0)"),t.arc(i.x,i.y,5,0,2*Math.PI,!1),t.fillStyle=r,t.fill();var s=this.getPosition(-.5*this.length,-.4*this.width);(r=t.createRadialGradient(s.x,s.y,0,s.x,s.y,5)).addColorStop(0,"rgba(255,0,0,1)"),r.addColorStop(1,"rgba(255,0,0,0)"),t.fillStyle=r,t.arc(s.x,s.y,5,0,2*Math.PI,!1),t.fill()}var r;0!=this.blinkers&&(this.blinkerIteration+=1,this.blinkerIteration>20&&(this.blinkerIteration=1),(-1==this.blinkers||2==this.blinkers)&&(t.beginPath(),i=this.getPosition(-.47*this.length,.42*this.width),(r=t.createRadialGradient(i.x,i.y,0,i.x,i.y,5)).addColorStop(0,"rgba(255,150,0,"+Math.max(5/this.blinkerIteration,0)+")"),r.addColorStop(1,"rgba(255,150,0,0)"),t.arc(i.x,i.y,5,0,2*Math.PI,!1),t.fillStyle=r,t.fill()),(1==this.blinkers||2==this.blinkers)&&(t.beginPath(),s=this.getPosition(-.47*this.length,-.42*this.width),(r=t.createRadialGradient(s.x,s.y,0,s.x,s.y,5)).addColorStop(0,"rgba(255,150,0,"+Math.max(5/this.blinkerIteration,0)+")"),r.addColorStop(1,"rgba(255,150,0,0)"),t.fillStyle=r,t.arc(s.x,s.y,5,0,2*Math.PI,!1),t.fill()))},this.brakeReverse=function(t){0==this.reverse?(this.engine.trottleDownToZero(.1),this.braking=5,this.vforward<.01&&(this.reverse=!0)):this.engine.trottleDown(t)},this.brake=function(t){if(0==t)return!1;this.engine.trottleDownToZero(.3),this.braking=5|t,this.vforward<.001&&(this.vforward=0)},this.getPosition=function(t,i){return this.alpha=this.heading,new e(this.xpos+i*Math.cos(-this.alpha)-t*Math.sin(-this.alpha),this.ypos+i*Math.sin(-this.alpha)+t*Math.cos(-this.alpha))},this.setPositionFromBack=function(t,e,i){var s=e,r=this.steering.centerOfBackWheels,h=Math.sqrt(r*r+s*s);this.dCenterAck=h,this.backWheelsPosition=this.getPosition(this.steering.centerOfBackWheels,0);var n=this.xpos-t.x,o=this.ypos-t.y,a=Math.atan2(n,o);angularSpeed=e<0?-i/(2*Math.PI*this.dCenterAck)*Math.PI*2:i/(2*Math.PI*this.dCenterAck)*Math.PI*2,this.targetX=t.x+h*Math.sin(a+angularSpeed),this.targetY=t.y+h*Math.cos(a+angularSpeed),this.heading+=angularSpeed,this.xpos=this.targetX,this.ypos=this.targetY},this.frontCoord=new e(this.x,this.y),this.backCoord=new e(this.x,this.y),this.tick=function(){1==this.reverse&&this.vforward>.01&&(this.reverse=!1),this.braking>0&&(this.vforward*=.95,this.braking-=1),this.alpha=this.heading,xOffset=.5*Math.sin(this.alpha)*this.length,yOffset=.5*Math.cos(this.alpha)*this.length,this.frontCoord.x=xOffset+this.xpos,this.frontCoord.y=yOffset+this.ypos,this.backCoord.x=this.xpos-xOffset,this.backCoord.y=this.ypos-yOffset,this.engine.tick();var t=this.engine.getForce();this.vforward+=t,this.vforward*=this.friction;var e=this.steering.steerDist;if(Math.abs(e)>0&&Math.abs(e)<1e3){var i=Math.asin(.5*this.vforward/e)/2;this.dxAcker=e*Math.sin(i)-e*Math.sin(0),this.dyAcker=e*Math.cos(i)-e*Math.cos(0),this.setPositionFromBack(this.steering.getAckermanpos(),e,this.vforward),iterations}else this.xpos+=this.vforward*Math.sin(this.heading),this.ypos+=this.vforward*Math.cos(this.heading);xOffset=.5*Math.sin(this.alpha)*this.length,yOffset=.5*Math.cos(this.alpha)*this.length,this.frontCoord.x=xOffset+this.xpos,this.frontCoord.y=yOffset+this.ypos,this.backCoord.x=this.xpos-xOffset,this.backCoord.y=this.ypos-yOffset,this.steering.steerAngle>2?this.blinkersRight():this.steering.steerAngle<1?this.blinkersLeft():this.blinkersReset()},this.tick()}function n(t,e,i){this.x=t,this.y=e,this.isFinal=i||!1,this.render=function(t){t.fillStyle="rgba(30,120,0,0.8)",t.rect(this.x-5,this.y-5,10,10),t.fill()}}function o(t){this.car=t,this.driveRoute=[new n(300,300)],this.reachedTarget=!0,this.breakOnEnd=!1,this.breakingDistance=300,this.slowSpeed=.3,this.normalSpeed=5,this.targetReachedDistance=170,this.chooseTurnAround=function(){},this.tick=function(){return 1==this.reachedTarget?(this.car.vforward>0?(this.car.engine.setTrottle(0),this.car.brake(1)):(this.car.engine.setTrottle(0),this.car.brake(0)),!1):(this.headingToTarget=Math.atan2(this.currentTarget.x-this.car.xpos,this.currentTarget.y-this.car.ypos),this.headingDelta=this.car.heading-this.headingToTarget,this.distanceToTarget=Math.sqrt(Math.pow(this.car.xpos-this.currentTarget.x,2)+Math.pow(this.car.ypos-this.currentTarget.y,2)),this.distanceToTarget<=this.targetReachedDistance&&(this.reachedTarget=!0,this.car.vforward>0&&(this.car.brake(1),this.car.engine.setTrottle(0)),this.gotoNextTarget(this.currentTarget.isFinal)),1!=this.reachedTarget&&(this.distanceToTarget>=this.breakingDistance&&this.car.vforward<this.normalSpeed&&this.car.engine.trottleUp(.02),this.distanceToTarget<this.breakingDistance&&(this.car.vforward>this.slowSpeed?(this.car.vforward>2*this.slowSpeed&&this.car.brake(.98),this.car.brake(.3)):this.car.engine.trottleUp(.05)),this.steeringDelta=(t=this.headingToTarget,e=this.car.heading-this.car.steering.steerAngle+.5*Math.PI,Math.cos(t-e+Math.PI/2)),this.steeringCorrection=.6*this.steeringDelta,this.sharpestSteeringCorrection=.2,this.steeringCorrection>this.sharpestSteeringCorrection&&(this.steeringCorrection=this.sharpestSteeringCorrection),this.steeringCorrection<-this.sharpestSteeringCorrection&&(this.steeringCorrection=-this.sharpestSteeringCorrection),void this.car.steering.increment(this.steeringCorrection)));var t,e},this.popNextTarget=function(){return this.driveRoute.shift()},this.gotoNextTarget=function(){var t=this.popNextTarget();t?(this.currentTarget=t,this.reachedTarget=!1):(this.brakeOnEnd&&(this.car.engine.trottleDown(.9),this.car.brake(1)),this.car.blinkersWarning())},this.gotoNextTarget(),this.setTarget=function(t){this.reachedTarget=!1,this.currentTarget=t},this.render=function(t){for(var e in t.lineWidth=2,t.strokeStyle="rgba(80,255,80,0.4)",t.beginPath(),t.moveTo(this.car.xpos,this.car.ypos),t.lineTo(this.currentTarget.x,this.currentTarget.y),t.stroke(),this.driveRoute)this.driveRoute[e].render(t)}}function a(){this.render=function(t){for(var e in this.objects)this.objects[e].render(t)}}function c(){this.translateX=0,this.translateY=0,this.viewCenterX=canvas.width/2,this.viewCenterY=canvas.height/2,this.targetFrameTime=40,this.maxParticles=1e4,this.objects=[],this.particles=[],this.recalculateWorld=!1,this.tick=function(){var t=(new Date).getMilliseconds();if(this.recalculateWorld){var e=[],i=0;for(var s in this.objects)null!=this.objects[s]&&(e.push(this.objects[s]),this.objects[s].worldId=i,i++);this.objects=e}for(var s in this.objects)null!=this.objects[s]&&this.objects[s].tick();for(var r in this.particles)null!=this.objects[s]&&this.particles[r].tick();var h=(new Date).getMilliseconds();this.render(h-t)},this.render=function(t){var e=(new Date).getMilliseconds();context.clearRect(-1e4,-1e4,1e4*canvas.width,1e4*canvas.height),context.translate(this.translateX,this.translateY),this.viewCenterX=this.viewCenterX-this.translateX,this.viewCenterY=this.viewCenterY-this.translateY,this.minX=this.viewCenterX-.5*canvas.width,this.maxX=this.viewCenterX+.5*canvas.width,this.minY=this.viewCenterY-.5*canvas.height,this.maxY=this.viewCenterY+.5*canvas.height,context.fillStyle="#053066",context.fillRect(-1e4,-1e4,1e4*canvas.width,1e4*canvas.height),context.lineWidth=1,context.strokeStyle="#DDDDDD";for(var i=100,s=this.minY-this.viewCenterY%i;s<this.maxY;s+=i)context.beginPath(),context.moveTo(this.minX,s),context.lineTo(this.maxX,s),context.stroke();for(var r=this.minX-this.viewCenterX%i;r<this.maxX;r+=i)context.beginPath(),context.moveTo(r,this.minY),context.lineTo(r,this.maxY),context.stroke();for(var h in this.particles)null!=this.particles[h]&&this.particles[h].render();for(var n in this.objects)null!=this.objects[n]&&this.objects[n].render(context);var o=(new Date).getMilliseconds()-e;self=this;var a=this.targetFrameTime-o-t;a<=0||a>this.targetFrameTime?setTimeout((function(){self.tick()}),1):setTimeout((function(){self.tick()}),a)},this.addParticle=function(t){this.particles.push(t),this.particles.length-1>=this.maxParticles&&this.particles.shift()},this.addObject=function(t){this.objects.push(t),t.worldId=this.objects.length-1},this.removeObject=function(t){this.recalculateWorld=!0,this.objects[t]=null}}CanvasFunctions={getMousePos:function(t,e){var i=t.getBoundingClientRect();return{x:e.clientX-i.left,y:e.clientY-i.top}}},document.loadedImages={},Wegmeubulair={},Wegmeubulair.pylon=function(t,e,i){this.xpos=t||30,this.ypos=e||30,this.rotation=0|i,console.log(t,e),this.render=function(t){t.strokeStyle="#AA0000",t.lineWidth=2,t.beginPath(),t.rect(this.xpos-3,this.ypos-3,6,6),t.stroke()},this.tick=function(){}},Wegmeubulair.tarmac10=function(t,e,i){this.xpos=t||10,this.ypos=e||10,this.rotation=0|i,console.log(t,e),this.render=function(t){t.strokeStyle="#AA0000",t.lineWidth=2,t.beginPath(),t.rect(this.xpos-3,this.ypos-3,6,6),t.stroke()},this.tick=function(){this.xpos+=.01}},EditorModi={},EditorModi.array=function(){this.pointA=e(),this.pointB=e(),this.render=function(){},this.leftClick=function(t,e){0==e&&(this.pointA.x=t.x,this.pointA.y=t.y),1==e&&(this.pointB.x=t.x,this.pointB.y=t.y)}},AvailableObjects={Wegmeubulair:{name:"Wegmeubulair",contents:Wegmeubulair}},s(document).ready((function(){canvas=document.getElementById("sim");var t=canvas.getContext("2d");context=t,car=new h,level=new a,world=new c,aiCar=new h,driver=new o(aiCar),world.addObject(aiCar),world.addObject(driver),aiCar2=new h,driver2=new o(aiCar2),aiCar2.xpos=0,aiCar2.ypos=0,world.addObject(aiCar2),world.addObject(driver2),canvas.addEventListener("mousemove",(function(t){var e=CanvasFunctions.getMousePos(canvas,t),i=world.viewCenterX-.5*canvas.width+e.x,s=world.viewCenterY-.5*canvas.height+e.y;context.rect(i-3,s-3,3,3),context.stroke()})),canvas.addEventListener("click",(function(t){var e=CanvasFunctions.getMousePos(canvas,t);mouseX=e.x+world.viewCenterX-.5*canvas.width,mouseY=e.y+world.viewCenterY-.5*canvas.height,console.log(world.viewCenterX+", "+.5*canvas.width);var i="Mouse position: "+e.x+","+e.y+":"+mouseX+", "+mouseY;console.log(i)}),!1);var e={};s(document).keydown((function(t){e[t.keyCode]=!0})),s(document).keyup((function(t){delete e[t.keyCode]})),iterations=0,testAngle=0,car.xpos=300,world.addObject(car),setTarget=!1,setInterval((function(){var t=Math.abs(car.xpos-world.viewCenterX);if(t>4){var i=4e-4*Math.pow(t,2);car.xpos>world.viewCenterX&&(world.translateX=-i),car.xpos<world.viewCenterX&&(world.translateX=i)}else world.translateX=0;var s=Math.abs(car.ypos-world.viewCenterY);if(s>4){var r=3e-4*Math.pow(s,2);car.ypos>world.viewCenterY&&(world.translateY=-r),car.ypos<world.viewCenterY&&(world.translateY=r)}else world.translateY=0;iterations++,e[39]&&car.steerIncrement(.05),e[37]&&car.steerIncrement(-.05),e[38]&&car.engine.trottleUp(.01),e[40]&&car.brakeReverse(.01),car.xpos&&0==setTarget&&(driver2.setTarget(new n(aiCar.xpos,aiCar.ypos,0)),driver2.reachedTarget=!1,driver.setTarget(new n(car.xpos,car.ypos,0)),driver.reachedTarget=!1,setTarget=!1)}),50),world.tick()}))}()},50769:function(t,e,i){var s=i(95318)(i(34575));Object.defineProperty(e,"__esModule",{value:!0}),e.App=void 0,e.App=function t(){(0,s.default)(this,t)}},14909:function(t,e,i){var s=i(50769);i(81486),i(11307),i(1351),console.log("hello world"),new s.App},11307:function(t,e,i){i.r(e)}},e={};function i(s){if(e[s])return e[s].exports;var r=e[s]={exports:{}};return t[s].call(r.exports,r,r.exports,i),r.exports}i.m=t,i.x=function(){},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},function(){var t={179:0},e=[[14909,992]],s=function(){},r=function(r,h){for(var n,o,a=h[0],c=h[1],l=h[2],d=h[3],g=0,f=[];g<a.length;g++)o=a[g],i.o(t,o)&&t[o]&&f.push(t[o][0]),t[o]=0;for(n in c)i.o(c,n)&&(i.m[n]=c[n]);for(l&&l(i),r&&r(h);f.length;)f.shift()();return d&&e.push.apply(e,d),s()},h=self.webpackChunkpixi_typescript_boilerplate=self.webpackChunkpixi_typescript_boilerplate||[];function n(){for(var s,r=0;r<e.length;r++){for(var h=e[r],n=!0,o=1;o<h.length;o++){var a=h[o];0!==t[a]&&(n=!1)}n&&(e.splice(r--,1),s=i(i.s=h[0]))}return 0===e.length&&(i.x(),i.x=function(){}),s}h.forEach(r.bind(null,0)),h.push=r.bind(null,h.push.bind(h));var o=i.x;i.x=function(){return i.x=o||function(){},(s=n)()}}(),i.x()}();